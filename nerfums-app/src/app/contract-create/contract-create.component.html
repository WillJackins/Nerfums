<mat-card class="contract-create-card">
  <mat-card-header>
    <mat-card-title>Create a new Contract</mat-card-title>
  </mat-card-header>

  <mat-card-content>
    <mat-form-field class="input-field">
      <mat-label>Target</mat-label>
      <mat-select #target (selectionChange)="setTarget(target.value)" [formControl]="targetInputControl">
        <mat-option>--</mat-option>
        <mat-option *ngFor="let user of users" [value]="user">
          {{user.fullName}}
        </mat-option>
      </mat-select>
      <mat-error *ngIf="targetInputControl.hasError('required')">Please enter a Contract Target.</mat-error>
    </mat-form-field>

    <mat-form-field class="input-field">
      <mat-label>Reward</mat-label>
      <input type="number" matInput placeholder="Reward" #reward [formControl]="rewardControl" (change)="setReward(reward.value)">
      <span matPrefix>$&nbsp;</span>
      <mat-error *ngIf="rewardControl.hasError('required')">Please enter a Reward amount.</mat-error>
    </mat-form-field>

    <br>

    <mat-form-field class="input-field">
      <mat-label>Requirements</mat-label>
      <mat-select multiple #requirements (selectionChange)="setRequirements(requirements.value)">
        <mat-option *ngFor="let modifier of modifiers" [value]="modifier">
          {{modifier.modifierTitle}}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field class="input-field">
      <mat-label>Optionals</mat-label>
      <mat-select multiple #optionals (selectionChange)="setOptionals(optionals.value)">
        <mat-option *ngFor="let modifier of modifiers" [value]="modifier">
          {{modifier.modifierTitle}}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <br>

    <mat-form-field class="extra-details-field" appearance="outline">
      <mat-label>Enter Details</mat-label>
      <textarea matInput #details placeholder="Extra Details..." (change)="setDetails(details.value)" matTextareaAutosize matAutosizeMinRows=3 matAutosizeMaxRows=10></textarea>
    </mat-form-field>


  </mat-card-content>

  <mat-card-actions align="end">
    <button mat-button>Cancel</button>
    <button mat-button (click)="postContract()" [disabled]="!isValidContract()">Submit</button>
  </mat-card-actions>
</mat-card>
